(()=>{"use strict";class t extends HTMLElement{#elementName;#valueLabelPlaceholder="[[value]]";#availabilityStatuses={undefined:"undefined",available:"available",not_available:"not-available",does_not_exist:"does-not-exist"};#classPrefix="js-product-option-";dataAttributes={};optionName;$productSection;constructor(t){super(),this.#elementName=t,this.dataAttributes={name:`data-${t}-name`,valueLabel:`data-${t}-value`,classPrefix:`data-${t}-class-prefix`}}connectedCallbackStart(){if(this.optionName=this.getAttribute(this.dataAttributes.name),void 0===this.optionName||""===this.optionName)throw new Error(`[${this.#elementName}] [Product option name is not set]`);if(this.$productSection=this.closest("product-section"),!this.$productSection)throw new Error(`[${this.#elementName}] [A related product-section element is not found]`);this.#classPrefix=this.getAttribute(this.dataAttributes.classPrefix)||this.#classPrefix}connectedCallbackEnd(){this.$productSection.addEventListener("statechange",(()=>{this.render()})),this.$productSection.state&&this.render()}getOptionState(){return this.$productSection.state.optionsValues.find((t=>t.name===this.optionName))}#getValueAvailability(t){const e=this.$productSection.state.optionsAvailability[this.optionName];let a=this.#availabilityStatuses.undefined;return e&&(a=t in e?e[t]?this.#availabilityStatuses.available:this.#availabilityStatuses.not_available:this.#availabilityStatuses.does_not_exist),a}addAvailabilityClass(t,e){t.classList.remove(...Object.values(this.#availabilityStatuses).map((t=>this.#classPrefix+t))),t.classList.add(this.#classPrefix+this.#getValueAvailability(e))}render(){const t=this.getOptionState();if(t){const e=t.value;this.querySelectorAll(`[${this.dataAttributes.valueLabel}]`).forEach((t=>{if(!e)return void(t.innerHTML="");const a=t.getAttribute(this.dataAttributes.valueLabel)||this.#valueLabelPlaceholder;t.innerHTML=a.replaceAll(this.#valueLabelPlaceholder,e)}))}}}const e="product-radio-option";customElements.define(e,class extends t{constructor(){super(e)}connectedCallback(){super.connectedCallbackStart(),super.connectedCallbackEnd(),this.#internalEvents()}#internalEvents(){this.querySelectorAll("input[type='radio']").forEach((t=>{t.addEventListener("change",(t=>{this.$productSection.state&&this.$productSection.setOptions({[this.optionName]:t.currentTarget.value})}))}))}render(){super.render();const t=this.getOptionState();t&&this.querySelectorAll("input[type='radio']").forEach((e=>{e.checked=e.value===t.value,this.addAvailabilityClass(e,e.value)}))}})})();