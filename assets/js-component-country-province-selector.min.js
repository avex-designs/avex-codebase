(()=>{class e extends HTMLElement{constructor(){super(),this.$countrySelector=this.querySelector("select[name*='country']"),this.$provinceSelector=this.querySelector("select[name*='province']"),this.$provinceContainer=this.querySelector("[data-province-container]"),this.selectedCountry=this.$countrySelector.getAttribute("data-default"),this.selectedProvince=this.$provinceSelector.getAttribute("data-default"),this.selectedProvince&&""!==this.selectedProvince||(this.$provinceContainer.style.display="none"),this.setDefaultSelected(this.$countrySelector,this.selectedCountry),this.generateProvinces(this.$countrySelector,this.$provinceSelector,this.$provinceContainer),this.setDefaultSelected(this.$provinceSelector,this.selectedProvince)}connectedCallback(){this.$countrySelector.addEventListener("change",(()=>{this.generateProvinces(this.$countrySelector,this.$provinceSelector,this.$provinceContainer)}))}clearOptions(e){for(;e.firstChild;)e.removeChild(e.firstChild)}setOptions(e,t){for(let i=0;i<t.length;i++){const n=document.createElement("option");n.value=t[i][0],n.innerHTML=t[i][1],e.appendChild(n)}}setDefaultSelected(e,t){t&&""!==t&&e&&(e.value=t)}generateProvinces(e,t,i){const n=e.options[e.selectedIndex].getAttribute("data-provinces"),r=JSON.parse(n);this.clearOptions(t),r?.length?(this.setOptions(t,r),i.style.display=""):i.style.display="none"}}customElements.define("country-province-selector",e)})();