(()=>{const t="html-fetcher",e={EAGER:"eager",LAZY:"lazy"};class r extends HTMLElement{#t;#e;#r=e.EAGER;#s;constructor(){super(),this.#s=new IntersectionObserver(((t,e)=>{t[0].isIntersecting&&(e.unobserve(this),this.updateHTML())}),{rootMargin:"0px 0px 0px 0px"})}connectedCallback(){const t=this.getAttribute("loading");Object.values(e).includes(t)&&(this.#r=t);const r=this.getAttribute("href");r&&this.setUrl(r)}setUrl(t){this.#t=t,this.#r!==e.EAGER?this.#s.observe(this):this.updateHTML()}async updateHTML(){this.#e&&this.#e.abort(),this.#e=new AbortController;try{const e=await fetch(this.#t,{signal:this.#e.signal});if(!e.ok)throw new Error(`Response error from the "${e.url}" URL`);const r=await e.text(),s=(new DOMParser).parseFromString(r,"text/html").querySelector(t);this.innerHTML=s?s.innerHTML:r}catch(t){if("AbortError"!==t.name)throw t}}}customElements.define(t,r)})();