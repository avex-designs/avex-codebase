(()=>{const t="media-loader";class e extends HTMLElement{#t=[];connectedCallback(){this.querySelectorAll("img, video").forEach((t=>{t instanceof HTMLVideoElement?(t.addEventListener("loadeddata",this.#e.bind(this)),t.addEventListener("loadedmetadata",this.#e.bind(this)),t.addEventListener("canplay",this.#e.bind(this)),t.addEventListener("canplaythrough",this.#e.bind(this)),t.addEventListener("playing",this.#e.bind(this))):t.addEventListener("load",this.#e.bind(this)),this.#t.push(t)})),this.#e()}#e(){if(!this.hasAttribute("ready")){for(let t=0;t<this.#t.length;t++){const e=this.#t[t];if(e instanceof HTMLVideoElement&&e.readyState<3||e instanceof HTMLImageElement&&!e.complete)return}this.#s()}}#s(){this.setAttribute("ready","");const e=new CustomEvent(`${t}:ready`);this.dispatchEvent(e)}}customElements.get(t)||customElements.define(t,e)})();