(()=>{const e="media-loader";class t extends HTMLElement{#e=[];connectedCallback(){this.querySelectorAll("img, video").forEach((e=>{e instanceof HTMLVideoElement?e.addEventListener("loadeddata",this.#t.bind(this)):e.addEventListener("load",this.#t.bind(this)),this.#e.push(e)})),this.#t()}#t(){for(let e=0;e<this.#e.length;e++){const t=this.#e[e];if(t instanceof HTMLVideoElement&&t.readyState<3||t instanceof HTMLImageElement&&!t.complete)return}this.#s()}#s(){this.setAttribute("ready","");const t=new CustomEvent(`${e}:ready`);this.dispatchEvent(t)}}customElements.get(e)||customElements.define(e,t)})();