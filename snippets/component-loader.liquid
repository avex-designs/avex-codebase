{%- comment -%}WARNING --- DO NOT EDIT THE FOLLOWING LINES: AUTOGENERATED{%- endcomment -%}
<script>
	window.components = {
  "accordion-block": "{{ 'js-component-accordion-block.min.js' | asset_url }}",
  "filter-and-sort-form": "{{ 'js-component-filter-and-sort-form.min.js' | asset_url }}",
  "filter-reset": "{{ 'js-component-filter-reset.min.js' | asset_url }}",
  "image-loader": "{{ 'js-component-image-loader.min.js' | asset_url }}",
  "login": "{{ 'js-component-login.min.js' | asset_url }}",
  "modal-dialog": "{{ 'js-component-modal-dialog.min.js' | asset_url }}",
  "modal-opener": "{{ 'js-component-modal-opener.min.js' | asset_url }}",
  "product-option": "{{ 'js-component-product-option.min.js' | asset_url }}",
  "product-section": "{{ 'js-component-product-section.min.js' | asset_url }}",
  "quantity-input": "{{ 'js-component-quantity-input.min.js' | asset_url }}"
}
</script>
{%- comment -%}ENDWARNING ---{%- endcomment -%}

<script type="text/javascript">
  const components = window.components || {};

  class ComponentLoader extends HTMLElement {
    constructor() {
      super();
      Object.keys(components).forEach((component) => {
       console.log("this.querySelector(component)", this.querySelector(component))
        if (this.querySelector(component)) {
          this.injectScript(components[component], component);
          console.log(component)
          delete components[component];
        }
      });
      if (this.querySelector('product-card')) this.initWishlistButtons();
    }
    injectScript(src, element) {
      const elScript = document.createElement('script');
      elScript.type = 'module';
      elScript.src = src;
      document.body.appendChild(elScript);
      elScript.addEventListener('error', () =>
        document.querySelectorAll(element).forEach((el) => el.classList.add('no-js'))
      );
    }
    initWishlistButtons() {
      window.SwymCallbacks = window.SwymCallbacks || [];
      window.SwymCallbacks.push(function (swat) {
        console.log('SWYM');
        swat.initializeActionButtons('component-loader');
      });
    }
  }
  customElements.define('component-loader', ComponentLoader);
</script>
